---
import { CONTACTS } from '@utils/data'
import { ContactGroup, type Social } from '@utils/types'

import FooterGroup from './FooterGroup.astro'
import Section from './Section.astro'

// eslint-disable-next-line @typescript-eslint/consistent-type-definitions
export interface Props {
  class?: string
}

const { class: className, ...attrs } = Astro.props

const allContacts = Object.keys(CONTACTS) as Social[]

const socialContacts = allContacts.filter(
  (key) => CONTACTS[key].group === ContactGroup.Social,
)
const codeContacts = allContacts.filter(
  (key) => CONTACTS[key].group === ContactGroup.Code,
)
const otherContacts = allContacts.filter(
  (key) => CONTACTS[key].group === ContactGroup.Other,
)
---

<footer class:list={['mt-8 w-full', className]} {...attrs}>
  <Section class="flex flex-wrap justify-evenly pb-4 text-primary">
    <FooterGroup contactGroup={otherContacts} />
    <FooterGroup contactGroup={socialContacts} />
    <FooterGroup contactGroup={codeContacts} />
  </Section>
  <slot />
</footer>
